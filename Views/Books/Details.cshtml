@model LibraryApp.Models.Book

@{
	ViewData["Title"] = "Details";
	var isAdmin = User.IsInRole("Admin");
}

<h1>Details</h1>

<div>
	<hr />
	<div class="mt-2 row">
		<div class="mt-3 col-3">
			@if (Model.Image != null)
			{
				<img src="data:@Model!.Image!.FileType;base64,@Convert.ToBase64String(Model.Image.Data!)"
					 class="img-thumbnail" style="max-height:306px;" />
			}
			else
			{
				<img src="~/images/defaults/default-book-cover.png" alt="Default Book Cover"
					 class="img-thumbnail" />
			}
		</div>
		<div class="ms-4 col">
			<dl class="mt-3 row">
				<dt class="col-sm-2">
					@Html.DisplayNameFor(model => model.Title)
				</dt>
				<dd class="col-sm-10">
					@Html.DisplayFor(model => model.Title)
				</dd>
				<dt class="col-sm-2">
					@Html.DisplayNameFor(model => model.Author)
				</dt>
				<dd class="col-sm-10">
					@Html.DisplayFor(model => model.Author)
				</dd>
				<dt class="col-sm-2">
					@Html.DisplayNameFor(model => model.ISBN)
				</dt>
				<dd class="col-sm-10">
					@Html.DisplayFor(model => model.ISBN)
				</dd>
				<dt class="col-sm-2">
					@Html.DisplayNameFor(model => model.PublishedYear)
				</dt>
				<dd class="col-sm-10">
					@Html.DisplayFor(model => model.PublishedYear)
				</dd>
				<dt class="col-sm-2">
					@Html.DisplayNameFor(model => model.Genre)
				</dt>
				<dd class="col-sm-10">
					@Html.DisplayFor(model => model.Genre)
				</dd>
				<dt class="col-sm-2">
					@Html.DisplayNameFor(model => model.IsAvailable)
				</dt>
				<dd class="col-sm-10">
					@if (Model.IsAvailable)
					{
						<i class="bi bi-check-circle-fill text-success" title="Available"></i>
					}
					else
					{
						<i class="bi bi-x-circle-fill text-danger" title="Unavailable"></i>
					}
				</dd>
			</dl>
			<div class="d-flex">
				@if (isAdmin)
				{
					<a asp-action="Edit" class="btn btn-success" asp-route-id="@Model.Id"><i class="bi bi-pencil-square"></i> Edit</a>
				}
				<a class="ms-2 btn btn-primary" asp-action="Index"><i class="bi bi-arrow-left"></i> Back</a>
			</div>
		</div>
	</div>
</div>

